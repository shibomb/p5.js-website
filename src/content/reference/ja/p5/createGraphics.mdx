---
title: createGraphics
module: Rendering
submodule: Rendering
file: src/core/rendering.js
description: >
  <p><a href="/reference/p5/p5.Graphics">p5.Graphics</a>オブジェクトを作成します。</p>

  <p><code>createGraphics()</code>はオフスクリーンの描画キャンバス（グラフィックス
  バッファ）を作成し、<a href="/reference/p5/p5.Graphics">p5.Graphics</a>
  オブジェクトとして返します。別のグラフィックスバッファに描画することは、
  パフォーマンスの向上やコードの整理に役立ちます。</p>

  <p>最初の2つのパラメータ、<code>width</code>と<code>height</code>はオプションです。これらは
  <a href="/reference/p5/p5.Graphics">p5.Graphics</a>オブジェクトの
  寸法を設定します。例えば、<code>createGraphics(900, 500)</code>を呼び出すと、
  900×500ピクセルのグラフィックスバッファが作成されます。</p>

  <p>3番目のパラメータもオプションです。<code>P2D</code>または
  <code>WEBGL</code>のいずれかの定数が渡された場合（例：<code>createGraphics(900, 500,
  WEBGL)</code>）、<a href="/reference/p5/p5.Graphics">p5.Graphics</a>オブジェクトの
  レンダリングモードが設定されます。既存の
  <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/"
  target="_blank">HTMLCanvasElement</a>
  が渡された場合（例：<code>createGraphics(900, 500, myCanvas)</code>）、
  それがグラフィックスバッファによって使用されます。</p>

  <p>4番目のパラメータもオプションです。既存の
  <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/"
  target="_blank">HTMLCanvasElement</a>
  が渡された場合（例：<code>createGraphics(900, 500, WEBGL, myCanvas)</code>）、
  それがグラフィックスバッファによって使用されます。</p>

  <p>注意：WebGLモードでは、<a
  href="/reference/p5/p5.Graphics">p5.Graphics</a>オブジェクト
  は、ブラウザがサポートしている場合、WebGL2コンテキストを使用します。
  <a href="/reference/p5/webglVersion/">webglVersion</a>システム変数をチェックして、
  どのバージョンが使用されているかを確認するか、<code>setAttributes({ version: 1 })</code>を
  呼び出してWebGL1コンテキストを作成してください。</p>
line: 370
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    //  ダブルクリックしてグラフィックスバッファの内容を描画します。

    let pg;

    function setup() {
      createCanvas(100, 100);

      background(200);

      // p5.Graphicsオブジェクトを作成します。
      pg = createGraphics(50, 50);

      // グラフィックスバッファに描画します。
      pg.background(100);
      pg.circle(pg.width / 2, pg.height / 2, 20);

      describe('グレーの正方形。ユーザーがダブルクリックすると、中央に白い円がある小さくて暗い正方形が表示されます。');
    }

    // ユーザーがダブルクリックしたときにグラフィックスバッファを表示します。
    function doubleClicked() {
      if (mouseX > 0 && mouseX < 100 && mouseY > 0 && mouseY < 100) {
        image(pg, 25, 25);
      }
    }
    </code>
    </div>

    <div>
    <code>
    //  ダブルクリックしてグラフィックスバッファの内容を描画します。

    let pg;

    function setup() {
      createCanvas(100, 100);

      background(200);

      // WebGLモードでp5.Graphicsオブジェクトを作成します。
      pg = createGraphics(50, 50, WEBGL);

      // グラフィックスバッファに描画します。
      pg.background(100);
      pg.lights();
      pg.noStroke();
      pg.rotateX(QUARTER_PI);
      pg.rotateY(QUARTER_PI);
      pg.torus(15, 5);

      describe('グレーの正方形。ユーザーがダブルクリックすると、中央に白いトーラスがある小さくて暗い正方形が表示されます。');
    }

    // ユーザーがダブルクリックしたときにグラフィックスバッファを表示します。
    function doubleClicked() {
      if (mouseX > 0 && mouseX < 100 && mouseY > 0 && mouseY < 100) {
        image(pg, 25, 25);
      }
    }
    </code>
    </div>
class: p5
return:
  description: 新しいグラフィックスバッファ。
  type: p5.Graphics
overloads:
  - line: 370
    params:
      - name: width
        description: |
          <p>グラフィックスバッファの幅。</p>
        type: Number
      - name: height
        description: |
          <p>グラフィックスバッファの高さ。</p>
        type: Number
      - name: renderer
        description: |
          <p>P2DまたはWEBGL。デフォルトはP2D。</p>
        type: Constant
        optional: true
      - name: canvas
        description: |
          <p>グラフィックスバッファに使用される既存の
                                               キャンバス要素。</p>
        type: HTMLCanvasElement
        optional: true
    return:
      description: 新しいグラフィックスバッファ。
      type: p5.Graphics
  - line: 475
    params:
      - name: width
        description: ''
        type: Number
      - name: height
        description: ''
        type: Number
      - name: canvas
        description: ''
        type: HTMLCanvasElement
        optional: true
    return:
      description: ''
      type: p5.Graphics
chainable: false
---


# createGraphics

