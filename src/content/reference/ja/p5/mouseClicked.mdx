---
title: mouseClicked
module: Events
submodule: Mouse
file: src/events/mouse.js
description: >
  <p>マウスボタンが押されて離された後、一度だけ呼び出される関数です。</p>

  <p><code>mouseClicked()</code>関数を宣言すると、ユーザーがマウスボタンを押して

  離した後に自動的に実行されるコードブロックを設定できます：</p>

  <pre><code class="language-js">function mouseClicked() {
    // 実行するコード
  }

  </code></pre>

  <p><a href="/reference/p5/mouseX/">mouseX</a>や

  <a href="/reference/p5/mouseY/">mouseY</a>などのマウスシステム変数は、

  p5.jsによって<code>mouseClicked()</code>が呼び出されたときに

  最新の値に更新されます：</p>

  <pre><code class="language-js">function mouseClicked() {
    if (mouseX < 50) {
      // マウスが左側にある場合に実行するコード
    }

    if (mouseY > 50) {
      // マウスが下部付近にある場合に実行するコード
    }
  }

  </code></pre>

  <p>パラメータ<code>event</code>はオプションです。<code>mouseClicked()</code>には常に

  マウスクリックイベントを説明するプロパティを持つ

  <a href="https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/"
  target="_blank">MouseEvent</a>

  オブジェクトが渡されます：</p>

  <pre><code class="language-js">function mouseClicked(event) {
    // イベントを使用して実行するコード
    console.log(event);
  }

  </code></pre>

  <p>タッチスクリーンデバイスでは、<a href="/reference/p5/touchEnded/">touchEnded()</a>が

  宣言されていない場合、ユーザーのタッチが終了したときに<code>mouseClicked()</code>が

  実行されます。<a href="/reference/p5/touchEnded/">touchEnded()</a>が宣言されている場合、

  ユーザーのタッチが終了したときに<a href="/reference/p5/touchEnded/">touchEnded()</a>が

  実行され、<code>mouseClicked()</code>は実行されません。</p>

  <p>ブラウザには、様々なマウスイベントにデフォルトの動作が設定されている場合があります。

  例えば、一部のブラウザでは、ユーザーがマウスボタンを押しながらマウスを動かすと

  テキストがハイライトされます。このイベントのデフォルトの動作を防ぐには、

  関数の最後に<code>return false;</code>を追加してください。</p>

  <p>注意：<a href="/reference/p5/mousePressed/">mousePressed()</a>、

  <a href="/reference/p5/mouseReleased/">mouseReleased()</a>、

  そして<code>mouseClicked()</code>は全て関連しています。

  <a href="/reference/p5/mousePressed/">mousePressed()</a>はユーザーがマウスをクリックした

  瞬間に実行されます。<a href="/reference/p5/mouseReleased/">mouseReleased()</a>は

  ユーザーがマウスクリックを離した瞬間に実行されます。<code>mouseClicked()</code>は

  <a href="/reference/p5/mouseReleased/">mouseReleased()</a>の直後に実行されます。</p>
line: 1429
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    let value = 0;

    function setup() {
      createCanvas(100, 100);

      describe(
        'グレーの正方形の中央に黒い正方形があります。ユーザーがマウスボタンを押して離すと、内側の正方形の色が変わります。'
      );
    }

    function draw() {
      background(200);

      // 正方形のスタイルを設定
      fill(value);

      // 正方形を描画
      square(25, 25, 50);
    }

    // ユーザーがクリックしたときに正方形の色を切り替える
    function mouseClicked() {
      if (value === 0) {
        value = 255;
      } else {
        value = 0;
      }
      // デフォルトの動作を防ぐにはコメントを解除してください
      // return false;
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      // 円のスタイルを設定
      fill('orange');
      stroke('royalblue');
      strokeWeight(10);

      describe(
        'グレーの背景に、太い青い枠線のオレンジ色の円が描かれています。ユーザーがマウスを押して保持すると、枠線が細くピンク色になります。ユーザーがマウスを離すと、枠線が太くなり青色に変わります。'
      );
    }

    function draw() {
      background(220);

      // 円を描画
      circle(50, 50, 20);
    }

    // ユーザーがクリックした瞬間にストロークの色と太さを設定
    function mousePressed() {
      stroke('deeppink');
      strokeWeight(3);
    }

    // ユーザーがマウスを離した瞬間にストロークと塗りつぶしの色を設定
    function mouseReleased() {
      stroke('royalblue');

      // これは表示されません。なぜならfill()が
      // mouseClicked()内で呼び出され、mouseReleased()の
      // 直後に実行されるからです
      fill('limegreen');
    }

    // mousePressed()とmouseReleased()が呼び出された後に
    // 塗りつぶしの色とストロークの太さを設定
    function mouseClicked() {
      fill('orange');
      strokeWeight(10);
    }
    </code>
    </div>
class: p5
params:
  - name: event
    description: |
      <p>オプションの<code>MouseEvent</code>引数。</p>
    type: MouseEvent
    optional: true
chainable: false
---


# mouseClicked

