---
title: computeFaces
module: Shape
submodule: 3D Primitives
file: src/webgl/p5.Geometry.js
description: >
  <p>ジオメトリの頂点を使用して面を計算します。</p>

  <p>すべての3D形状は、<em>頂点</em>と呼ばれる点の集合を接続して作られています。

  ジオメトリの表面は、頂点を接続して三角形を形成し、それらを縫い合わせることで

  形成されます。ジオメトリの表面上の各三角形のパッチは<em>面</em>と呼ばれます。
  <code>myGeometry.computeFaces()</code>は、頂点間の距離に基づいて

  各面を定義するために必要な計算を実行します。</p>

  <p>ジオメトリの頂点は<a href="/reference/p5/p5.Vector">p5.Vector</a>

  オブジェクトとして<a href="/reference/p5.Geometry/vertices/">myGeometry.vertices</a>

  配列に格納されています。ジオメトリの最初の頂点は

  <a href="/reference/p5/p5.Vector">p5.Vector</a>オブジェクトで
  <code>myGeometry.vertices[0]</code>、

  2番目の頂点は<code>myGeometry.vertices[1]</code>、3番目の頂点は

  <code>myGeometry.vertices[2]</code>、というように続きます。</p>

  <p><code>myGeometry.computeFaces()</code>を呼び出すと、

  <a href="/reference/p5.Geometry/faces/">myGeometry.faces</a>配列に
  各面を形成する頂点を

  リストした3要素の配列が格納されます。例えば、長方形から作られたジオメトリは

  2つの面を持ちます。なぜなら、長方形は2つの三角形を結合して作られるからです。

  長方形の<a href="/reference/p5.Geometry/faces/">myGeometry.faces</a>は

  <code>[[0, 1, 2], [2, 1, 3]]</code>という2次元配列になります。最初の面、
  <code>myGeometry.faces[0]</code>は

  配列<code>[0, 1, 2]</code>です。これは

  <code>myGeometry.vertices[0]</code>、<code>myGeometry.vertices[1]</code>、

  <code>myGeometry.vertices[2]</code>を接続して形成されるからです。2番目の面、
  <code>myGeometry.faces[1]</code>は

  配列<code>[2, 1, 3]</code>です。これは

  <code>myGeometry.vertices[2]</code>、<code>myGeometry.vertices[1]</code>、

  <code>myGeometry.vertices[3]</code>を接続して形成されるからです。</p>

  <p>注意：<code>myGeometry.computeFaces()</code>は、ジオメトリが4つ以上の頂点を持つ場合にのみ機能します。</p>
line: 1340
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    // クリックしてドラッグすると、異なる角度からシーンを見ることができます。

    let myGeometry;

    function setup() {
      createCanvas(100, 100, WEBGL);

      // p5.Geometryオブジェクトを作成します。
      myGeometry = new p5.Geometry();

      // 頂点の位置を決めるp5.Vectorオブジェクトを作成します。
      let v0 = createVector(-40, 0, 0);
      let v1 = createVector(0, -40, 0);
      let v2 = createVector(0, 40, 0);
      let v3 = createVector(40, 0, 0);

      // myGeometryのvertices配列に頂点を追加します。
      myGeometry.vertices.push(v0, v1, v2, v3);

      // myGeometryのfaces配列を計算します。
      myGeometry.computeFaces();

      describe('灰色の背景に描かれた赤い正方形。');
    }

    function draw() {
      background(200);

      // マウスでの軌道制御を有効にします。
      orbitControl();

      // ライトをオンにします。
      lights();

      // 形状のスタイルを設定します。
      noStroke();
      fill(255, 0, 0);

      // p5.Geometryオブジェクトを描画します。
      model(myGeometry);
    }
    </code>
    </div>

    <div>
    <code>
    // クリックしてドラッグすると、異なる角度からシーンを見ることができます。

    let myGeometry;

    function setup() {
      createCanvas(100, 100, WEBGL);

      // コールバック関数を使用してp5.Geometryオブジェクトを作成します。
      myGeometry = new p5.Geometry(1, 1, createShape);

      describe('灰色の背景に描かれた赤い正方形。');
    }

    function draw() {
      background(200);

      // マウスでの軌道制御を有効にします。
      orbitControl();

      // ライトをオンにします。
      lights();

      // 形状のスタイルを設定します。
      noStroke();
      fill(255, 0, 0);

      // p5.Geometryオブジェクトを描画します。
      model(myGeometry);
    }

    function createShape() {
      // 頂点の位置を決めるp5.Vectorオブジェクトを作成します。
      let v0 = createVector(-40, 0, 0);
      let v1 = createVector(0, -40, 0);
      let v2 = create